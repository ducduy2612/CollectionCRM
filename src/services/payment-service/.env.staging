# Server Configuration - Staging Environment
PORT=3005
HOST=0.0.0.0
NODE_ENV=staging
LOG_LEVEL=warn

# Database Configuration
DB_HOST=pgbouncer
DB_PORT=6432
DB_DATABASE=collectioncrm_staging
DB_USERNAME=collectioncrm
DB_PASSWORD=staging_password_123
DB_SCHEMA=payment_service
DB_POOL_MIN=20
DB_POOL_MAX=150
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_ACQUIRE_TIMEOUT=60000
DB_POOL_CREATE_TIMEOUT=30000
DB_POOL_DESTROY_TIMEOUT=5000
DB_POOL_REAP_INTERVAL=1000
DB_POOL_CREATE_RETRY_INTERVAL=100
DB_STATEMENT_TIMEOUT=120000
DB_SSL=false
DB_DEBUG=false

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=staging_redis_123
REDIS_TTL_SECONDS=86400

# Kafka Configuration
KAFKA_BROKERS=kafka:9092
KAFKA_TOPIC=payment.events
KAFKA_CLIENT_ID=payment-service-staging
KAFKA_BATCH_SIZE=100
KAFKA_COMPRESSION=gzip
KAFKA_RETRIES=5
KAFKA_ACKS=-1
KAFKA_TIMEOUT=30000

# Staging Processing Configuration
STAGING_BATCH_SIZE=1000
STAGING_MAX_RETRIES=3
STAGING_RETRY_DELAY=5000
STAGING_PARALLEL=false
STAGING_WORKERS=2

# Webhook Configuration
WEBHOOK_TIMEOUT_MS=5000
WEBHOOK_RATE_LIMIT_ENABLED=true
WEBHOOK_RATE_LIMIT_MAX=1000
WEBHOOK_RATE_LIMIT_WINDOW=60000
WEBHOOK_AUTH_ENABLED=false
WEBHOOK_AUTH_SECRET=your-webhook-secret-here
WEBHOOK_AUTH_HEADER=x-signature
WEBHOOK_IP_WHITELIST=

# Deduplication Configuration
MEMORY_CACHE_MAX_SIZE=10000
REFERENCE_CACHE_TTL_DAYS=90
PROCESS_LOG_TTL_DAYS=30

# Job Scheduling Configuration
STAGING_SCHEDULE=*/30 * * * * *
STAGING_JOB_ENABLED=true
STAGING_MAX_FAILURES=5
STAGING_TIMEOUT=300000

PARTITION_SCHEDULE=0 2 * * *
PARTITION_JOB_ENABLED=true
PARTITION_RETENTION_MONTHS=12
PARTITION_FUTURE_MONTHS=3

CACHE_CLEANUP_SCHEDULE=0 3 * * *
CACHE_CLEANUP_ENABLED=true
ENABLE_CACHE_WARMING=true
CACHE_WARMING_LIMIT=10000

# Monitoring and Metrics
ENABLE_METRICS=true

# Security
TRUST_PROXY=true